/*!
   fa-angular-form-gen v0.1.2
   (c) 2017 Pranav Sathy https://github.com/PranavSathy/angular-form-gen
   License: MIT
*/
!function(e){var i=e.module("fg",["dq","ui.utils.masks"]);i.constant("FgField",function(i,t){this.name=this.type=i,t&&e.extend(this,t),this.displayName=this.displayName||this.type.charAt(0).toUpperCase()+this.type.substring(1)}),i.config(["$provide",function(i){i.provider("fgConfig",function(){function i(e){for(var i=a.length;i--&&a[i].type!==e;);return i}var t={enableDebugInfo:!0,validation:{messages:{},patterns:{}},fields:{templates:[],categories:{},renderInfo:{}}},a=t.fields.templates;return{debug:function(e){t.enableDebugInfo=e},fields:{add:function(e,t,n,l){if(!(e&&e.type&&t&&t.length))throw new Error("Need a valid objectTemplate and at least one category");var d=i(e.type);-1!==d?a[d]=e:a.push(e),this.category(e.type,t),this.renderInfo(e.type,n,l)},remove:function(e){var t=i(e);-1!==t&&a.splice(t,1),this.category(e),this.renderInfo(e)},get:function(e){for(var i=a.length;i--;){var t=a[i];if(t.type===e)return t}},renderInfo:function(e,i,a){t.fields.renderInfo[e]={templateUrl:i,propertiesTemplateUrl:a}},category:function(i,a){e.isArray(a)||(a=[a]),e.forEach(t.fields.categories,function(e){delete e[i]}),e.forEach(a,function(e){void 0===t.fields.categories[e]&&(t.fields.categories[e]={}),t.fields.categories[e][i]=!0})}},validation:{message:function(i,a){var n=t.validation.messages;if(e.isString(i)){if(!a)throw new Error("No message specified for "+i);n[i]=a}else e.extend(n,i)},pattern:function(i,a){e.isString(i)?t.validation.patterns[i]=a:e.extend(t.validation.patterns,i)}},$get:function(){return t}}})}]),i.config(["fgConfigProvider","FgField",function(i,t){i.validation.message({required:"Um valor é necessário para este campo.",minlength:'O valor não coincide com o comprimento mínimo{{ field.schema && (" de " + field.schema.validation.minlength + " caracteres" || "")}}.',maxlength:'O valor excede o comprimento máximo{{ field.schema && (" de " + field.schema.validation.maxlength + " caracteres" || "")}}.',pattern:'O valor "{{ field.state.$viewValue }}" não coincide com o formato exigido.',email:'O valor "{{ field.state.$viewValue }}" não é um endereço de email válido.',unique:'O valor "{{ field.state.$viewValue }}" já está em uso.',number:'O valor "{{ field.state.$viewValue }}" não é um número.',min:'O valor {{ field.schema && ("deve ser de pelo menos " + field.schema.validation.min) || field.state.$viewValue + " é muito baixo" }}',max:'O valor {{ field.schema && ("deve ser de pelo menos " + field.schema.validation.max) || field.state.$viewValue + " é muito alto" }}',minoptions:"Pelo menos {{ field.schema.validation.minoptions }} opção(ões) devem ser seleccionados.",maxoptions:"Não mais que {{ field.schema.validation.maxoptions }} opção(ões) devem ser seleccionados.",brPhoneNumber:"Telefone inválido.",nfeAccessKey:"Número Nota Fiscal inválido.",ie:"Inscrição Estadual inválido.",cpf:"CPF inválido.",cnpj:"CNPJ inválido",cep:"CEP inválido",brBoletoBancario:"Número do Boleto inválido",time:"Hora inválida.",date:"Data inválida."});var a={"Campos de Texto":[new t("text",{displayName:"Campo de Texto"}),new t("email"),new t("number",{displayName:"Número",validation:{maxlength:15}}),new t("password",{displayName:"Senha"}),new t("textarea"),new t("fileupload")],"Campos de Checkbox":[new t("checkbox",{nolabel:!0}),new t("checkboxlist",{displayName:"Lista Checkbox",options:[{value:"1",text:"opção 1"},{value:"2",text:"opção 2"},{value:"3",text:"opção 3"}],value:{1:!0,2:!0}})],"Campos de Seletores":[new t("radiobuttonlist",{displayName:"Lista Radiobutton",options:[{value:"1",text:"opção 1"},{value:"2",text:"opção 2"},{value:"3",text:"opção 3"}],value:"1"}),new t("selectlist",{displayName:"Lista Select",options:[{value:"",text:"Selecione uma opção"},{value:"1",text:"opção 1"},{value:"2",text:"opção 2"},{value:"3",text:"opção 3"}],value:""})]};e.forEach(a,function(t,a){e.forEach(t,function(e){i.fields.add(e,a)})}),i.validation.pattern({Nenhum:void 0,Url:"/^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/",Domínio:"/^([a-z][a-z0-9\\-]+(\\.|\\-*\\.))+[a-z]{2,6}$/","Endereço IPv4":"/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",Email:"/^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/",Inteiro:"/^-{0,1}\\d+$/","Inteiro Positivo":"/^\\d+$/","Inteiro Negativo":"/^-\\d+$/",Número:"/^-{0,1}\\d*\\.{0,1}\\d+$/","Número Positivo":"/^\\d*\\.{0,1}\\d+$/","Número Negativo":"/^-\\d*\\.{0,1}\\d+$/","Ano (1920-2099)":"/^(19|20)[\\d]{2,2}$/",Senha:"/(?=.*\\d)(?=.*[!@#$%^&*\\-=()|?.\"';:]+)(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/"})}]),e.module("fg").run(["$templateCache",function(e){e.put("angular-form-gen/edit/edit.ng.html",'<div class="fg-edit row form-group" ng-form="$fg"><div class="col-sm-8"><div fg-form="" fg-edit-canvas="" fg-no-render="true"></div></div><div class="col-sm-4" ng-form="$palette" fg-null-form=""><div fg-form="" fg-edit-palette="" fg-no-render="true"></div></div></div>'),e.put("angular-form-gen/validation/summary.ng.html",'<ul class="fg-validation-summary help-block unstyled" ng-if="field.state.$invalid && field.state.$dirty"><li ng-repeat="(key, error) in field.state.$error" ng-if="error" fg-bind-expression="messages[key]"></li></ul>'),e.put("angular-form-gen/common/jsonify/jsonify.ng.html",'<div class="jsonify" ng-if="false"><div class="btn-toolbar btn-toolbar-right"><button class="btn btn-default btn-xs" type="button" title="Copy the json data." ng-click="copy()"><span class="fa fa-clipboard"></span></button> <button class="btn btn-default btn-xs" type="button" title="Display hidden properties." ng-click="displayHidden = !displayHidden" ng-class="{ \'active\': displayHidden }"><span class="fa fa-eye"></span></button></div><pre><code>{{ jsonify | j$on:displayHidden }}</code></pre></div>'),e.put("angular-form-gen/common/tabs/tabs-pane.ng.html",'<div class="fg-tabs-pane" ng-show="tabs.active === pane"><div ng-if="tabs.active === pane || pane.renderAlways" ng-transclude=""></div></div>'),e.put("angular-form-gen/common/tabs/tabs.ng.html",'<div class="fg-tabs tabbable"><ul class="nav nav-tabs"><li ng-repeat="tab in tabs.items" ng-class="{ active: tab === tabs.active, disabled: tab.disabled }"><a href="" ng-click="tabs.activate(tab)">{{ tab.title }}</a></li></ul><div class="tab-content" ng-transclude=""></div></div>'),e.put("angular-form-gen/field-templates/properties/checkbox.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, tooltip: true }"></div><div fg-property-field="fieldValue"><div class="checkbox"><label title="Set the initial value of this field."><input type="checkbox" name="fieldValue" ng-model="field.value"> Valor Inicial</label></div></div></div>'),e.put("angular-form-gen/field-templates/properties/checkboxlist.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, tooltip: true }"></div></div><div fg-tabs-pane="Opções"><div fg-property-field-options="multiple"></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true }"></div><div class="fg-property-field-validation"><div fg-property-field="minoptions" fg-property-field-label="Mínimo"><input type="text" fg-field-redraw="" fg-input-number="" title="O número mínimo de opções que deve ser seleccionado." name="minoptions" ng-model="field.validation.minoptions" class="form-control"></div><div ng-if="field.validation.minoptions >= 1"><div fg-edit-validation-message="minoptions"></div></div></div><div class="fg-property-field-validation"><div fg-property-field="maxoptions" fg-property-field-label="Máximo"><input type="text" fg-field-redraw="" fg-input-number="" title="O número máximo de opções que podem ser seleccionadas." name="maxoptions" ng-model="field.validation.maxoptions" class="form-control"></div><div ng-if="field.validation.maxoptions >= 1"><div fg-edit-validation-message="maxoptions"></div></div></div></div>'),e.put("angular-form-gen/field-templates/properties/dropdownlist.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><div fg-field-input="" fg-dropdown-input="field.options" ng-model="field.value" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"></div></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/email.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><input type="email" class="form-control" name="fieldValue" ng-model="field.value" ng-minlength="{{ field.validation.minlength }}" ng-maxlength="{{ field.validation.maxlength }}" ng-pattern="{{ field.validation.pattern }}"></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/fileupload.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, mask: false, displayname: false, placeholder: false, tooltip: true, uploadurl: true }"></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: false, maxlength: false, pattern: false }"></div></div>'),e.put("angular-form-gen/field-templates/properties/number.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><input fg-input-number="" class="form-control" type="number" name="fieldValue" ng-model="field.value" min="{{ field.validation.min }}" max="{{ field.validation.max }}" ng-minlength="{{ field.validation.minlength }}" ng-maxlength="{{ field.validation.maxlength }}" ng-pattern="{{ field.validation.pattern }}"></div></div><div fg-tabs-pane="Validações"><div class="fg-property-field-validation"><div fg-property-field="min" fg-property-field-label="Mínimo"><input fg-input-number="" fg-field-redraw="" class="form-control" type="number" name="min" title="O valor mínimo que deve ser digitado" ng-model="field.validation.min"></div><div ng-if="field.validation.min >= 0"><div fg-edit-validation-message="min"></div></div></div><div class="fg-property-field-validation"><div fg-property-field="max" fg-property-field-label="Máximo"><input fg-input-number="" fg-field-redraw="" class="form-control" type="number" name="max" title="O valor máximo que deve ser digitado" ng-model="field.validation.max"></div><div ng-if="field.validation.max >= 0"><div fg-edit-validation-message="max"></div></div></div><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/password.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><input fg-input-number="" class="form-control" type="password" name="fieldValue" ng-model="field.value" ng-minlength="{{ field.validation.minlength }}" ng-maxlength="{{ field.validation.maxlength }}" ng-pattern="{{ field.validation.pattern }}"></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/radiobuttonlist.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, tooltip: true }"></div></div><div fg-tabs-pane="opções"><div fg-property-field-options=""></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/selectlist.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, tooltip: true }"></div></div><div fg-tabs-pane="opções"><div fg-property-field-options=""></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/text.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, mask: true, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><input type="text" class="form-control" name="fieldValue" ng-model="field.value" ng-minlength="{{ field.validation.minlength }}" ng-maxlength="{{ field.validation.maxlength }}" ng-pattern="{{ field.validation.pattern }}"></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/properties/textarea.ng.html",'<div fg-tabs-pane="Propriedades"><div fg-property-field-common="{ fieldname: false, displayname: true, placeholder: true, tooltip: true }"></div><div fg-property-field-value=""><textarea name="fieldValue" class="form-control" ng-model="field.value" ng-minlength="{{ field.validation.minlength }}" ng-maxlength="{{ field.validation.maxlength }}" ng-pattern="{{ field.validation.pattern }}">\n    </textarea></div></div><div fg-tabs-pane="Validações"><div fg-property-field-validation="{ required: true, minlength: true, maxlength: true, pattern: true }"></div></div>'),e.put("angular-form-gen/field-templates/default/checkbox.ng.html",'<div class="checkbox"><label title="{{ field.schema.tooltip }}"><input fg-field-input="" id="{{ field.$_id }}" type="checkbox" tabindex="{{ tabIndex }}" ng-model="form.data[field.schema.name]"> <span ng-if="field.schema.nolabel">{{ field.schema.displayName }}</span></label></div>'),e.put("angular-form-gen/field-templates/default/checkboxlist.ng.html",'<div fg-checkboxlist="" fg-field-input="" ng-model="form.data[field.schema.name]" name="{{ field.schema.name }}"><div class="checkbox" ng-repeat="option in field.schema.options"><label title="{{ field.schema.tooltip }}"><input type="checkbox" tabindex="{{ tabIndex }}" value="{{ option.value }}" ng-model="form.data[field.schema.name][option.value]"> <span>{{option.text || option.value}}</span></label></div></div>'),e.put("angular-form-gen/field-templates/default/dropdownlist.ng.html",'<div fg-field-input="" fg-dropdown-input="field.schema.options" title="{{ field.schema.tooltip }}" id="{{ field.$_id }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"></div>'),e.put("angular-form-gen/field-templates/default/email.ng.html",'<input class="form-control" fg-field-input="" type="email" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}">'),e.put("angular-form-gen/field-templates/default/fileupload.ng.html",'<div class="input-group image-preview"><input type="text" class="form-control image-preview-filename" fg-field-input="" id="{{ field.$_id }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" disabled="disabled"><div class="input-group-btn"><button type="button" class="btn btn-default image-preview-clear" style="display:none;"><span class="glyphicon glyphicon-remove"></span> Limpar</button><div class="btn btn-default image-preview-input" fg-field-upload="form.data[field.schema.name]" url="{{field.uploadurl}}"><span class="glyphicon glyphicon-folder-open"></span> <span class="image-preview-input-title">Buscar</span></div></div></div>'),e.put("angular-form-gen/field-templates/default/not-in-cache.ng.html",'<div class="fg-field-not-in-cache alert alert-error"><p>No template registered in cache for field type "{{ field.type }}".</p></div>'),e.put("angular-form-gen/field-templates/default/number.ng.html",'<input class="form-control" fg-field-input="" fg-input-number="" type="number" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" min="{{ field.schema.validation.min }}" max="{{ field.schema.validation.max }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}">'),e.put("angular-form-gen/field-templates/default/password.ng.html",'<input class="form-control" fg-field-input="" type="password" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}">'),e.put("angular-form-gen/field-templates/default/radiobuttonlist.ng.html",'<div class="radio" ng-repeat="option in field.schema.options"><label title="{{ field.schema.tooltip }}"><input fg-field-input="" type="radio" name="{{ field.schema.name }}[]" tabindex="{{ tabIndex }}" value="{{ option.value }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required"> <span>{{option.text || option.value}}</span></label></div>'),e.put("angular-form-gen/field-templates/default/selectlist.ng.html",'<select class="form-control" fg-selectlist="" fg-field-input="" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" tabindex="{{ tabIndex }}"><option ng-repeat="option in field.schema.options" value="{{ option.value }}" ng-selected="form.data[field.schema.name] === option.value">{{ option.text || option.value }}</option></select>'),e.put("angular-form-gen/field-templates/default/text.ng.html",'<input class="form-control" ng-if="field.schema.mask == undefined || field.schema.mask == \'\'" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"><input class="form-control" ng-if="field.schema.mask == \'ui-br-phone-number\'" ui-br-phone-number="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-br-cep-mask\'" ui-br-cep-mask="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-br-cpf-mask\'" ui-br-cpf-mask="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-br-cnpj-mask\'" ui-br-cnpj-mask="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-br-cpfcnpj-mask\'" ui-br-cpfcnpj-mask="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"><input class="form-control" ng-if="field.schema.mask == \'ui-number-mask\'" ui-number-mask="0" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-number-mask-dec\'" ui-number-mask="2" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-percentage-mask\'" ui-percentage-mask="0" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-percentage-mask-dec\'" ui-percentage-mask="2" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-money-mask\'" ui-money-mask="2" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"><input class="form-control" ng-if="field.schema.mask == \'ui-date-mask\'" ui-date-mask="" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}"> <input class="form-control" ng-if="field.schema.mask == \'ui-time-mask\'" ui-time-mask="short" fg-field-input="" type="text" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" placeholder="{{ field.schema.placeholder }}" ng-model="form.data[field.schema.name]" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}">'),e.put("angular-form-gen/field-templates/default/textarea.ng.html",'<textarea class="form-control" fg-field-input="" fg-placeholder="field.schema.placeholder" ng-model="form.data[field.schema.name]" id="{{ field.$_id }}" title="{{ field.schema.tooltip }}" tabindex="{{ tabIndex }}" ng-required="field.schema.validation.required" ng-minlength="{{ field.schema.validation.minlength }}" ng-maxlength="{{ field.schema.validation.maxlength }}" ng-pattern="{{ field.schema.validation.pattern }}">\n</textarea>'),e.put("angular-form-gen/edit/canvas/canvas.ng.html",'<div class="fg-edit-canvas" ng-class="{ \'fg-edit-canvas-dragging\': dragging }"><fieldset><legend>Canvas</legend><div class="fg-edit-canvas-area" dq-drag-area="fg-edit-canvas" dq-drag-enter="canvasCtrl.dragEnter()" dq-drag-leave="canvasCtrl.dragLeave()" dq-drop="canvasCtrl.drop()"><div ng-if="!(schema.fields.length)"><div ng-if="!dragPlaceholder.visible" class="fg-edit-canvas-area-empty alert alert-info text-center"><p class="fg-edit-canvas-area-empty-x">X</p><p class="lead hidden-phone"><strong>Arraste</strong> um dos elementos disponíveis na <strong>Paleta ao lado</strong> nesta <strong>Área</strong>.</p></div></div><div ng-repeat="field in schema.fields"><div ng-class="{ \'fg-drag-placeholder-visible\' : dragPlaceholder.visible && dragPlaceholder.index === $index }" class="fg-drag-placeholder"></div><div fg-edit-canvas-field=""></div></div><div ng-class="{ \'fg-drag-placeholder-visible\': dragPlaceholder.visible && dragPlaceholder.index == schema.fields.length }" class="fg-drag-placeholder"></div></div></fieldset></div>'),e.put("angular-form-gen/edit/palette/palette.ng.html",'<div class="fg-edit-palette"><fieldset><div fg-edit-palette-categories="" data-category="selectedCategory"></div><div ng-repeat="template in templates | filter:templateFilter" class="fg-field" dq-draggable="fg-edit-canvas" dq-drag-begin="{ source: \'palette\', field: template }"><div class="fg-field-overlay"><div class="btn-toolbar btn-toolbar-right"><button class="btn btn-default btn-xs btn-primary" type="button" ng-click="schemaCtrl.addField(template)" title="Adicionar este Campo."><span class="fa fa-plus"></span></button></div></div><div fg-field="template" fg-tab-index="-1" fg-no-validation-summary="true" fg-edit-mode="true"></div></div></fieldset></div>'),e.put("angular-form-gen/form/field/field.ng.html",'<div class="fg-field-inner form-group" ng-class="{ \'fg-field-required\': fieldSchema.validation.required, \'has-error\': form.state[field.name].$invalid }"><label ng-if="!field.schema.nolabel" class="" for="{{ field.$_id }}">{{ fieldSchema.displayName }}</label><div ng-include="renderInfo.templateUrl"></div><div fg-validation-summary="" fg-validation-messages="fieldSchema.validation.messages" ng-if="!noValidationSummary"></div></div>'),e.put("angular-form-gen/form/form-fields/form-fields.ng.html",'<div class="fg-form-fields"><fieldset><div class="col-sm-6" ng-repeat="field in form.schema.fields"><div class="col-zm-12" fg-field="field"></div></div></fieldset></div>'),e.put("angular-form-gen/edit/canvas/field/field.ng.html",'<div class="fg-field fg-field-{{ field.type }} fg-edit-canvas-field" ng-class="{ \'error\': field.$_invalid, \'dragging\': field.$_isDragging }" dq-draggable="fg-edit-canvas" dq-drag-disabled="dragEnabled === false" dq-drag-begin="canvasCtrl.dragBeginCanvasField($index, field)" dq-drag-end="canvasCtrl.dragEndCanvasField(field)"><div class="fg-field-overlay" ng-mouseenter="dragEnabled = true" ng-mouseleave="dragEnabled = false"><div class="fg-field-overlay-drag-top" dq-drag-enter="dragPlaceholder.index = $index"></div><div class="fg-field-overlay-drag-bottom" dq-drag-enter="dragPlaceholder.index = ($index + 1)"></div><div class="btn-toolbar btn-toolbar-right"><button class="btn btn-default btn-xs" type="button" ng-disabled="field.$_displayProperties && field.$_invalid" ng-class="{ \'active\': field.$_displayProperties }" ng-click="toggleProperties(field)" title="Configurar este Campo."><span class="fa fa-wrench"></span></button> <button class="btn btn-default btn-xs" type="button" ng-click="schemaCtrl.swapFields($index - 1, $index)" ng-disabled="$index === 0" title="Mover acima"><span class="fa fa-arrow-up"></span></button> <button class="btn btn-default btn-xs" type="button" ng-click="schemaCtrl.swapFields($index, $index + 1)" ng-disabled="$index === schema.fields.length - 1" title="Mover abaixo"><span class="fa fa-arrow-down"></span></button> <button class="btn btn-default btn-xs btn-danger" type="button" ng-click="schemaCtrl.removeField($index)" title="Remover"><span class="fa fa-trash"></span></button></div></div><div ng-form="" fg-null-form=""><div fg-field="field" fg-tab-index="-1" fg-edit-mode="true" fg-no-validation-summary="true"></div></div><div class="fg-field-properties-container" ng-class="{ visible: field.$_displayProperties }"><div fg-edit-canvas-field-properties="field" ng-if="expanded"></div></div></div>'),e.put("angular-form-gen/edit/palette/categories/categories.ng.html",'<legend ng-click="paletteCategoriesMenuOpen = !paletteCategoriesMenuOpen" ng-class="{ \'open\': paletteCategoriesMenuOpen }">Paleta <span class="fg-legend-extra fg-edit-palette-categories visible-xs-inline visible-md-inline visible-lg-inline">- {{ categoryName || \'Todos os Tipos\' }}</span> <i class="caret"></i><ul class="dropdown-menu"><li ng-repeat="(name, category) in categories" ng-class="{ \'active\': categoryName === name }"><a ng-click="setCategory(name, category)">{{ name }}</a></li><li class="divider"></li><li ng-class="{ \'active\': !category }"><a ng-click="setCategory(null)">Todos os Tipos</a></li></ul></legend>'),e.put("angular-form-gen/edit/canvas/field/properties/properties.ng.html",'<div class="fg-field-properties"><div novalidate="" ng-form="fieldPropertiesForm"><div fg-tabs="property.tabs"><div ng-include="renderInfo.propertiesTemplateUrl"></div><div ng-if="false" fg-tabs-pane="Debug" order="1000" auto-active="false"><div data-jsonify="field"></div></div></div></div></div>'),e.put("angular-form-gen/edit/canvas/field/properties/options/options.ng.html",'<div ng-if="!field.options || field.options.length === 0" ng-click="optionsCtrl.addOption()" class="alert alert-info"><h2>Sem opções definido</h2><p class="lead">Clique aqui para adicionar uma nova definição de opção para este campo.</p></div><table ng-if="field.options.length > 0" class="table-field-options"><thead><tr><th></th><th>Valor</th><th>Texto</th><th><a href="" class="btn btn-default btn-xs" ng-click="optionsCtrl.addOption()" title="Adicionar uma nova opção para a lista"><i class="fa fa-plus"></i></a></th><th class="table-field-options-padding"></th></tr></thead><tbody><tr ng-form="fieldOptionForm" ng-repeat="option in field.options" ng-class="{ \'error\': fieldOptionForm.$invalid }"><td ng-if="multiple === false"><input type="radio" name="{{ field.name }}selection[]" value="{{ option.value }}" ng-model="field.value" ng-click="optionsCtrl.toggleOption(option.value)"></td><td ng-if="multiple === true"><input type="checkbox" name="{{ field.name }}selection[]" value="{{ option.value }}" ng-model="field.value[option.value]"></td><td><input type="text" name="optionValue" ng-model="option.value" class="form-control" ng-required="field.type != \'selectlist\'"></td><td><input type="text" ng-model="option.text" class="form-control"></td><td><a href="" class="btn btn-default btn-xs" ng-click="optionsCtrl.removeOption($index)" title="Remover esta opção da lista"><i class="fa fa-trash"></i></a></td><td></td></tr></tbody></table>'),e.put("angular-form-gen/edit/canvas/field/properties/property-field/common.ng.html",'<div ng-if="fields.fieldname"><div fg-property-field="fieldName" fg-property-field-label="Nome"><input type="text" class="form-control" name="fieldName" ng-model="field.name" ng-required="true" ng-pattern="/^[a-zA-Z]([\\w]+)?$/" fg-unique-field-name=""></div></div><div ng-if="fields.displayname"><div fg-property-field="displayName" fg-property-field-label="Nome de Exibição"><input type="text" class="form-control" name="displayName" ng-model="field.displayName"></div></div><div ng-if="fields.mask"><div fg-property-field="mask" fg-property-field-label="Máscara de Exibição"><select class="form-control" name="mask" ng-model="field.mask"><option value="">Selecione</option><optgroup label="Textos"><option value="ui-br-phone-number">Telefone</option><option value="ui-br-cep-mask">CEP</option><option value="ui-br-cpf-mask">CPF</option><option value="ui-br-cpfcnpj-mask">CPF/CNPJ</option></optgroup><optgroup label="Números"><option value="ui-number-mask">Número (Inteiro)</option><option value="ui-number-mask-dec">Número (Decimal)</option><option value="ui-percentage-mask">Porcentagem (Inteiro)</option><option value="ui-percentage-mask-dec">Porcentagem (Decimal)</option><option value="ui-money-mask">Moeda</option></optgroup><optgroup label="Tempo"><option value="ui-date-mask">Data</option><option value="ui-time-mask">Tempo</option></optgroup></select></div></div><div ng-if="fields.placeholder"><div fg-property-field="fieldPlaceholder" fg-property-field-label="Texto do Placeholder"><input type="text" class="form-control" name="fieldPlaceholder" ng-model="field.placeholder"></div></div><div ng-if="fields.tooltip"><div fg-property-field="fieldTooltip" fg-property-field-label="Dica"><input type="text" class="form-control" name="fieldTooltip" ng-model="field.tooltip"></div></div><div ng-if="fields.uploadurl"><div fg-property-field="uploadurl" fg-property-field-label="URL Plugin de Upload"><input type="text" class="form-control" name="uploadurl" ng-model="field.uploadurl"></div></div>'),e.put("angular-form-gen/edit/canvas/field/properties/property-field/field-value.ng.html",'<div ng-if="draw"><div fg-property-field="fieldValue" fg-property-field-label="Valor Inicial"><div ng-transclude=""></div></div></div>'),e.put("angular-form-gen/edit/canvas/field/properties/property-field/property-field.ng.html",'<div class="form-group fg-property-field" ng-class="{ \'has-error\': fieldPropertiesForm[fieldName].$invalid }"><label class="col-sm-5 col-md-4 control-label">{{ fieldLabel }}</label><div class="col-sm-7 col-md-8"><div ng-transclude=""></div><div fg-validation-summary="{{ fieldName }}"></div></div></div>'),e.put("angular-form-gen/edit/canvas/field/properties/validation/validation-message.ng.html",'<div ng-form="valMsgForm"><div fg-property-field="message" fg-property-field-label="Mensagem"><input type="text" name="message" title="{{ tooltip }}" placeholder="Mensagem opcional" ng-model="field.validation.messages[validationType]" class="form-control"></div></div>'),e.put("angular-form-gen/edit/canvas/field/properties/validation/validation.ng.html",'<div ng-if="fields.minlength" class="fg-property-field-validation"><div fg-property-field="minlength" fg-property-field-label="Comprimento Mínimo"><input type="text" fg-field-redraw="" fg-input-number="" title="O comprimento mínimo de caracteres que deve ser digitado." name="minlength" ng-model="field.validation.minlength" class="form-control"></div><div ng-if="field.validation.minlength >= 1"><div fg-edit-validation-message="minlength"></div></div></div><div ng-if="fields.maxlength" class="fg-property-field-validation"><div fg-property-field="maxlength" fg-property-field-label="Comprimento Máximo"><input type="text" fg-field-redraw="" fg-input-number="" title="O comprimento máximo de caracteres que deve ser digitado." name="maxlength" ng-model="field.validation.maxlength" class="form-control"></div><div ng-if="field.validation.maxlength >= 1"><div fg-edit-validation-message="maxlength"></div></div></div><div ng-if="fields.pattern" class="fg-property-field-validation"><div fg-property-field="pattern" fg-property-field-label="Modelo"><div fg-dropdown-input="patternOptions" name="pattern" title="O modelo que deve coincidir com o valor de entrada." fg-parse-pattern="" fg-field-redraw="" ng-model="field.validation.pattern"></div></div><div ng-if="field.validation.pattern.length > 0"><div fg-edit-validation-message="pattern"></div></div></div><div ng-if="fields.required" class="fg-property-field-validation"><div fg-property-field="required"><div class="checkbox"><label title="Indica se é necessário um valor para este campo."><input type="checkbox" ng-model="field.validation.required">Requerido</label></div></div><div ng-if="field.validation.required"><div fg-edit-validation-message="required"></div></div></div>')
}]),i.directive("fgBindExpression",["$interpolate",function(e){function i(e){for(var i=[],t=e.expressions,a=t.length;a--;){var n=t[a];n&&!n.match(/^\s*$/)&&i.push(n)}return"["+i.join()+"]"}return function(t,a,n){function l(){o&&o(),o=void 0}function d(){a.text(r(t))}var r,o,f;t.$on("$destroy",function(){l()}),t.$watch(n.fgBindExpression,function(n){if(void 0!==n){r=e(n),a.addClass("ng-binding").data("$binding",r);var s=i(r);f!==s?(f=s,l(),o=t.$watchCollection(s,function(){d()})):d()}})}}]),i.directive("fgDropdownInput",["$compile","$document","$timeout","$parse","fgUtils",function(i,t,a,n,l){function d(i,t){var n='<div class="fg-dropdown-input input-group"><input type="text" class="form-control"/><span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="dropdownToggle()"><span class="caret"></span></button></span></div>',l=e.element(n),d=l.find("input"),r=t.prop("attributes");e.forEach(r,function(e){"fg-dropdown-input"!==e.name&&"class"!==e.name&&d.attr(e.name,e.value)});{var o;l.find("button")}return i.dropdownToggle=function(){i.dropdownVisible=!i.dropdownVisible},i.$on("$destroy",function(){o&&a.cancel(o),o=void 0}),l}function r(i,t,a,d,r){var o=n(a.ngModel),f=o.assign,s='<div class="fg-dropdown" ng-class="{ \'open\': dropdownVisible }"><ul ng-if="items && items.length" class="dropdown-menu"><li ng-repeat="item in items" ng-class="{ active: item.value === getModelValue() }"><a href="" ng-click="setModelValue(item.value)">{{ item.text || item.value }}</a></li></ul></div>',p=e.element(s);i.setModelValue=function(e){i.dropdownVisible=!1;for(var t=e||"",a=d.$formatters.length;a--;){var n=d.$formatters[a],t=n(t);if(void 0===t)break}a=d.$parsers.length;for(var l=t;a--;){var n=d.$parsers[a];if(l=n(l),void 0===l)break}void 0===l?(d.$setViewValue(t),d.$render()):f(i,e)},i.getModelValue=function(){return o(i)};var m=r[0];return i.$watch("dropdownVisible",function(e){if(e){var i=m.getBoundingClientRect(),t=l.getScrollOffset();p.css({left:t.x+i.left+"px",top:t.y+i.top+m.clientHeight+"px",width:m.clientWidth+"px"})}}),i.$watchCollection(a.fgDropdownInput,function(e){i.items=e}),i.$on("$destroy",function(){p.remove()}),p}return{priority:1e3,restrict:"A",terminal:!0,scope:!0,compile:function(){return function(e,a,n){var l=d(e,a,n);a.append(l),i(l)(e);var o=l.find("input"),f=o.controller("ngModel"),s=r(e,a,n,f,l),p=i(s),m=t.find("body");m.append(s),p(e)}}}}]),i.directive("fgNullForm",function(){var i={$addControl:e.noop,$removeControl:e.noop,$setValidity:e.noop,$setDirty:e.noop,$setPristine:e.noop};return{restrict:"A",require:["form"],link:function(t,a,n,l){var d=l[0],r=a.parent().inheritedData("$formController");r&&r.$removeControl(d),e.extend(d,i)}}}),i.directive("fgFormRequiredFilter",function(){return{restrict:"A",require:["form"],link:function(e,i,t,a){var n=a[0],l=n.$setValidity;n.$setValidity=function(e,i,t){"required"===e&&(i=!0),l.call(n,e,i,t)}}}}),i.directive("fgInputNumber",function(){return{require:"ngModel",link:function(i,t,a,n){if(n.$parsers.push(function(e){if(void 0==e)return"";var i=e.replace(/[^0-9]/g,""),t=parseInt(i);return i!=e&&(n.$setViewValue(i),n.$render()),t}),n.$parsers.push(function(e){var i=n.$isEmpty(e);return i||/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/.test(e)?(n.$setValidity("number",!0),""===e?null:i?e:parseFloat(e)):(n.$setValidity("number",!1),void 0)}),n.$formatters.push(function(e){return n.$isEmpty(e)?void 0:e}),a.min){var l=function(e){var i=parseFloat(a.min);return!n.$isEmpty(e)&&i>e?(n.$setValidity("min",!1),void 0):(n.$setValidity("min",!0),e)};n.$parsers.push(l),n.$formatters.push(l)}if(a.max){var d=function(e){var i=parseFloat(a.max);return!n.$isEmpty(e)&&e>i?(n.$setValidity("max",!1),void 0):(n.$setValidity("max",!0),e)};n.$parsers.push(d),n.$formatters.push(d)}n.$formatters.push(function(i){return n.$isEmpty(i)||e.isNumber(i)?(n.$setValidity("number",!0),i):(n.$setValidity("number",!1),void 0)})}}}),i.directive("fgPlaceholder",function(){return{link:function(e,i,t){e.$watch(t.fgPlaceholder,function(e){i.attr("placeholder",e)})}}}),i.factory("fgUtils",["$templateCache","$window","fgConfig",function(i,t,a){var n=+new Date%1e4;return{getScrollOffset:function(){var e={};if(void 0!==t.pageYOffset)e.x=t.pageXOffset,e.y=t.pageYOffset;else{var i=t.document.documentElement;e.x=i.scrollLeft,e.y=i.scrollTop}return e},defaultArea:"default",getRenderInfo:function(e){var i=a.fields.renderInfo[e.type];return i||(i={},a.fields.renderInfo[e.type]=i),i.templateUrl||(i.templateUrl=this.getTemplateUrl(e)),i.propertiesTemplateUrl||(i.propertiesTemplateUrl=this.getTemplateUrl(e,"properties")),i},formatTemplateUrl:function(e,i){return"angular-form-gen/field-templates/"+(i||this.defaultArea)+"/"+e+".ng.html"},getTemplateUrl:function(e,t){t=t||this.defaultArea;var a=e.type,n=this.formatTemplateUrl(a,t),l=i.get(n);if(!l){if("properties"===t||t===this.defaultArea)return this.formatTemplateUrl("not-in-cache");n=this.getTemplateUrl(e,this.defaultArea)}return n},getUnique:function(){return++n},copyField:function(i){var t=e.copy(i);return t.name="field"+this.getUnique(),t},findElementsByClass:function(e,i,t,a){if(a=a||[],e.className===i&&a.push(e),e.hasChildNodes())for(var n=0;n<e.children.length;n++){var l=e.children[n];l.className===i&&a.push(l),t&&this.findElementsByClass(l,i,t,a)}return a}}}]),e.module("dq",[]).factory("dqUtils",["$window","$rootScope",function(e){var i=null;return{getEvent:function(i){return i&&i.originalEvent?i.originalEvent:i||e.event},stopEvent:function(e){return e.cancelBubble=!0,e.bubbles=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},dragData:function(e){return void 0===e?i:(i=e,void 0)},getParentArea:function(e){var i={};return e.$emit("dqLocateArea",i),i.name},isAreaMatch:function(e){var t=this.getParentArea(e),a=i?i.area:"";return t===a}}}]),e.module("dq").directive("dqDragArea",["dqUtils",function(){function e(e,i,t,a){a&&i&&i.area===t&&e.$eval(a)}return{restrict:"AEC",link:function(i,t,a){var n=a.dqDragArea||a.dqDragAreaName||"";i.$on("dqDragBegin",function(t,l){e(i,l,n,a.dqDragProgressBegin)}),i.$on("dqDragEnd",function(t,l){e(i,l,n,a.dqDragProgressEnd)}),i.$on("dqLocateArea",function(e,i){i.name=n,e.stopPropagation()})}}}]),e.module("dq").directive("dqDragEnter",["dqDragTrack",function(e){return{link:e}}]).directive("dqDragLeave",["dqDragTrack",function(e){return{link:e}}]).directive("dqDragOver",["dqDragTrack",function(e){return{link:e}}]).directive("dqDrop",["dqDragTrack",function(e){return{link:e}}]).factory("dqDragTrack",["dqUtils","$document",function(e,i){return function(t,a,n){function l(i){var t=e.getEvent(i),a=t.target||i.target;return a!==f&&(f.contains(a)||d(!0)),m.off("dragover",l),p=!1,t.dataTransfer.dropEffect=s,e.stopEvent(i)}function d(e){o=!1;var i=n.dqDragLeave;i&&(e?t.$apply(function(){t.$eval(i)}):t.$eval(i))}if(a.data("dqDragTrack")!==!0){var r=!1,o=!1,f=a[0],s="none",p=!1,m=i.find("body");t.$on("$destroy",function(){m.off("dragover",l)}),t.$on("dqDragBegin",function(){r=e.isAreaMatch(t)}),t.$on("dqDragEnd",function(){r&&d(!1)}),a.on("dragenter",function(){if(r&&o===!1){o=!0;var e=n.dqDragEnter;e&&t.$apply(function(){t.$eval(e)})}}),a.on("dragleave",function(){r&&o===!0&&(p=!0,m.on("dragover",l))}),a.on("dragover",function(i){if(r){var a,l=e.getEvent(i),d=n.dqDragOver;if(d&&t.$apply(function(){a=t.$eval(d)}),s=a===!1?"none":"copy",!p)return l.dataTransfer.dropEffect=s,e.stopEvent(i)}}),a.on("drop",function(i){e.getEvent(i);if(r){var a=n.dqDrop;a&&t.$apply(a)}return e.stopEvent(i)}),a.data("dqDragTrack",!0)}}}]),e.module("dq").directive("dqDraggable",["dqUtils","$rootScope",function(e,i){function t(e,t,a,n,l){a.$apply(function(){var d=a.$eval(n),r={area:t,data:d};l(r),i.$broadcast(e,r)})}return{restrict:"AEC",link:function(i,a,n){var l=n.dqDraggable||n.dqDragTargetArea||"",d=!1;i.$watch(n.dqDragDisabled,function(e){d=e,a.attr("draggable",d?"false":"true")}),a.on("selectstart",function(i){return!d&&this.dragDrop?(this.dragDrop(),i=e.getEvent(i),e.stopEvent(i)):void 0}).on("dragstart",function(a){if(a=e.getEvent(a),d)return e.stopEvent(a);var r=a.dataTransfer;r.effectAllowed="all",r.setData("Text","The cake is a lie!"),t("dqDragBegin",l,i,n.dqDragBegin,function(i){e.dragData(i)})}).on("dragend",function(){t("dqDragEnd",l,i,n.dqDragEnd,function(){e.dragData(null)})})}}}]),i.controller("fgEditController",["$scope","fgUtils","$location",function(){}]),i.directive("fgEdit",function(){return{priority:100,require:"fgSchema",restrict:"AE",scope:{schema:"=?fgSchema"},replace:!0,controller:"fgEditController as editCtrl",templateUrl:"angular-form-gen/edit/edit.ng.html",link:function(e,i,t,a){void 0===e.schema&&(e.schema={}),a.model(e.schema),e.schemaCtrl=a}}}),i.directive("fgValidationSummary",["fgValidationSummaryLinkFn",function(e){return{require:["^?fgField","^?form"],templateUrl:"angular-form-gen/validation/summary.ng.html",scope:{fieldName:"@?fgValidationSummary",validationMessages:"=?fgValidationMessages"},link:e}}]).factory("fgValidationSummaryLinkFn",["fgConfig",function(i){return function(t,a,n,l){var d=l[0],r=l[1];d?(t.field=d.field(),t.form=d.form()):r&&(t.form={state:r},t.$watch("fieldName",function(e){t.field={name:e,state:r[e]}})),t.validationMessages&&e.forEach(t.validationMessages,function(e,i){e||delete t.validationMessages[i]}),t.messages=e.extend({},i.validation.messages,t.validationMessages)}}]),i.directive("fgUniqueFieldName",function(){function e(e,i,t){var a,n=i.model(),l=!0;if(n)for(var d=n.fields,r=0;r<d.length;r++)if(a=d[r],a!==t&&t.name===a.name){l=!1;break}e.$setValidity("unique",l)}var i=0;return{priority:100,require:["ngModel","^fgSchema"],link:function(t,a,n,l){var d=l[0],r=l[1],o=t.field;if(!o)throw Error("No field property on scope");t.$watch(function(){return d.$modelValue},function(){++i}),t.$watch(function(){return i},function(){e(d,r,o)})}}}),i.controller("fgFormController",["$scope","$parse",function(e,i){this.model={};var t=this;this.init=function(a,n,l,d){t.editMode=d;var r=i(a),o=r.assign;return e.$watch(r,function(i){void 0===i&&(i={},o&&o(e,i)),t.model.data=i}),e.$watch(function(){return n.model()},function(e){void 0===e?n.model({}):t.model.schema=e}),t.model.state=l,t.model}}]),i.directive("fgForm",["fgFormCompileFn",function(e){return{restrict:"AE",require:["^?form","fgForm","^fgSchema"],controller:"fgFormController",scope:!0,compile:e}}]).factory("fgFormLinkFn",function(){return function(e,i,t,a){var n=a[0],l=a[1],d=a[2],r="true"===t.fgNoRender;l.init(t.fgFormData,d,n,r)}}).factory("fgFormCompileFn",["fgFormLinkFn",function(e){return function(i,t){i.addClass("fg-form");var a=t.fgNoRender;if("true"!==a){var n="<div fg-form-fields></div>";i.append(n)}return e}}]),i.filter("j$on",function(){return function(i,t){return t?JSON.stringify(i||{},null,"  "):e.toJson(i||{},!0)}}).directive("jsonify",["$window","$filter",function(e,i){return{templateUrl:"angular-form-gen/common/jsonify/jsonify.ng.html",replace:!0,scope:{jsonify:"=",displayHidden:"@jsonifyDisplayHidden"},link:function(t,a,n){t.expression=n.jsonify,t.copy=function(){e.prompt("Copy to clipboard: Ctrl+C, Enter",i("j$on")(t.jsonify,t.displayHidden))}}}}]),i.controller("fgTabsController",["$scope",function(e){this.items=[],this.active=null,this.activeIndex=-1,this.add=function(i){this.items.push(i),this.items.sort(function(e,i){return e.order-i.order}),e.active||0==i.autoActive||this.activate(i)},this.activate=function(i){var t,a=-1;if(isNaN(i)){t=i;for(var n=this.items.length;n--;)if(this.items[n]===t){a=n;break}if(-1===a)throw new Error("Cannot activate pane: not found in pane list.")}else{if(a=i,0>a||a>=this.items.length)throw new Error("Cannot activate pane: index out of bounds.");t=this.items[a]}t.disabled||(this.active=e.active=t,this.activeIndex=e.activeIndex=a)}}]),i.directive("fgTabs",function(){return{require:["fgTabs"],restrict:"EA",transclude:!0,controller:"fgTabsController",templateUrl:"angular-form-gen/common/tabs/tabs.ng.html",scope:{tabs:"=?fgTabs",active:"=?fgTabsActive",activeIndex:"=?fgTabsActiveIndex"},link:function(e,i,t,a){e.tabs=a[0],e.$watch("activeIndex",function(i){void 0!==i&&e.tabs.activeIndex!==i&&e.tabs.activate(i)})}}}),i.directive("fgTabsPane",["fgTabsPaneLinkFn",function(e){return{require:["^fgTabs"],restrict:"EA",transclude:!0,templateUrl:"angular-form-gen/common/tabs/tabs-pane.ng.html",link:e,scope:!0}}]).factory("fgTabsPaneLinkFn",function(){return function(e,i,t,a){e.tabs=a[0],e.pane={title:t.fgTabsPane||t.title,order:parseInt(t.fgTabsPaneOrder||t.order)||10,autoActive:!("false"===t.fgTabsPaneAutoActive||"false"===t.autoActive),renderAlways:"true"===t.fgTabsPaneRenderAlways||"true"===t.renderAlways},e.$watch(t.fgTabsPaneDisabled,function(i){e.pane.disabled=i}),e.tabs.add(e.pane)}}),i.controller("fgEditCanvasController",["$scope","dqUtils","$timeout","fgUtils",function(e,i,t){e.dragPlaceholder={visible:!1,index:0},e.$on("dqDragBegin",function(){e.dragging=!0}),e.$on("dqDragEnd",function(){e.dragging=!1}),this.dragEnter=function(){e.dragPlaceholder.visible=!0,e.dragPlaceholder.index=e.schema.fields.length},this.dragLeave=function(){e.dragPlaceholder.visible=!1},this.dragBeginCanvasField=function(e,i){return t(function(){i.$_isDragging=!0},1),{source:"canvas",field:i,index:e}},this.dragEndCanvasField=function(e){t(function(){e.$_isDragging=!1},10)},this.drop=function(){var t=i.dragData();if(!t||!t.data)throw Error("Drop without data");{var a=t.data.field,n=t.data.source,l=t.data.index;e.schema.fields}"palette"==n?e.schemaCtrl.addField(a,e.dragPlaceholder.index):"canvas"==n&&e.schemaCtrl.moveField(l,e.dragPlaceholder.index),a.$_isDragging=!1}}]),i.directive("fgEditCanvas",function(){return{require:["^fgEdit","^fgSchema","^form"],templateUrl:"angular-form-gen/edit/canvas/canvas.ng.html",controller:"fgEditCanvasController as canvasCtrl",link:function(e,i,t,a){e.editCtrl=a[0],e.schemaCtrl=a[1],e.formCtrl=a[2];var n=!0;e.$watchCollection("schema.fields",function(){n||e.formCtrl.$setDirty(!0),n=!1})}}}),i.controller("fgEditPaletteController",["$scope","fgConfig",function(i,t){i.templates=[];for(var a=t.fields.templates,n=a.length;n--;){var l=a[n];l.editor&&0==l.editor.visible||i.templates.unshift(e.copy(l))}i.templateFilter=function(e){return!i.selectedCategory||i.selectedCategory[e.type]}}]),i.directive("fgEditPalette",function(){return{require:["^fgSchema"],templateUrl:"angular-form-gen/edit/palette/palette.ng.html",controller:"fgEditPaletteController",link:function(e,i,t,a){e.schemaCtrl=a[0]}}}),i.directive("fgCheckboxlist",function(){function e(e,i,t){var a=e?e.required:!1;if(a){for(var n=t.length;n--;)if(i[t[n].value])return!0;return!1}return!0}function i(e){var i=0;for(var t in e)e[t]&&(i+=1);return i}return{require:["^fgField"],link:function(t,a,n,l){var d=l[0].field(),r=t.form.data,o=d.schema;t.$watchCollection(function(){return r[o.name]},function(t,a){if(d.state.$dirty||t===a||d.state.$setViewValue(t),o.validation){var n=e(o.validation,t,o.options);d.state.$setValidity("required",n);var l=o.validation.minoptions,r=o.validation.maxoptions,f=!0,s=!0;if(l||r){var p=i(t);l&&(f=p>=o.validation.minoptions),r&&(s=p<=o.validation.maxoptions)}d.state.$setValidity("minoptions",f),d.state.$setValidity("maxoptions",s)}})}}}),i.directive("fgSelectlist",["$timeout",function(i){return{priority:1e3,link:function(t,a){i(function(){for(var i=a.find("option"),t=i.length;--t>=0;){var n=e.element(i[t]);if("? undefined:undefined ?"==n.val()){n.remove();break}}},0)}}}]),i.controller("fgFieldController",["$scope","fgUtils",function(i,t){var a,n,l=this;this.init=function(e,t,d){l.initForm(e),l.initField(t),l.initDefaultData(t,d),i.form=a,i.field=n},this.initForm=function(e){return a=e?e.model:{}},this.initField=function(e){return n={$_id:"id"+t.getUnique(),schema:e},i.$watch("field.schema.name",function(e){l.registerState(e)}),n},this.initDefaultData=function(t,n){var l=t.name;return a.data=a.data||{},n?(i.$watch("field.schema.value",function(e){a.data[t.name]=e}),i.$watch("field.schema.name",function(e,i){if(e!==i){var t=a.data[i];delete a.data[i],a.data[e]=t}})):a.data&&void 0===a.data[l]&&void 0!==t.value&&(a.data[l]=e.copy(t.value)),a.data},this.setFieldState=function(e){n.state=e,l.registerState(n.schema.name)},this.registerState=function(e){a.state&&n.state&&(a.state.$removeControl(n.state),n.state.$name=e,a.state.$addControl(n.state)),n.name=e},this.field=function(){return n},this.form=function(){return a}}]),i.directive("fgField",["fgFieldLinkFn",function(e){return{require:["^?fgForm","fgField"],replace:!0,templateUrl:"angular-form-gen/form/field/field.ng.html",scope:{fieldSchema:"=fgField",tabIndex:"=?fgTabIndex",editMode:"=?fgEditMode",noValidationSummary:"=fgNoValidationSummary"},controller:"fgFieldController",link:e}}]).factory("fgFieldLinkFn",["fgUtils",function(e){return function(i,t,a,n){var l=n[0],d=n[1];void 0===i.tabIndex&&(i.tabIndex="auto"),i.renderInfo=e.getRenderInfo(i.fieldSchema),d.init(l,i.fieldSchema,i.editMode)}}]),i.directive("fgFieldInput",["fgFieldInputLinkFn",function(e){return{require:["^fgField","ngModel"],link:e}}]).factory("fgFieldInputLinkFn",function(){return function(e,i,t,a){var n=a[0],l=a[1];n.setFieldState(l)}}),i.directive("fgFieldUpload",function(){return{scope:{fgFieldUpload:"="},link:function(e,i,t){i.on("click",function(){new XPROFileDialog({url:t.url,onSelect:function(i){e.fgFieldUpload(i.url)}})})}}}),i.directive("fgFormFields",function(){return{require:["^?fgForm"],restrict:"AE",templateUrl:"angular-form-gen/form/form-fields/form-fields.ng.html",scope:{},link:function(e,i,t,a){var n=a[0];e.$watch(function(){return n.model},function(i){e.form=i})}}}),i.controller("fgSchemaController",["$scope","fgUtils",function(i,t){var a;this.model=function(i){return void 0!==i&&(a=i,e.isArray(i.fields)||(i.fields=[])),a},this.addField=function(e,i){var n=t.copyField(e);i=void 0===i?a.fields.length:i,a.fields.splice(i,0,n)},this.removeField=function(e){a.fields.splice(e,1)},this.swapFields=function(e,i){-1>=e||-1>=i||e>=a.fields.length||i>=a.fields.length||(a.fields[e]=a.fields.splice(i,1,a.fields[e])[0])},this.moveField=function(e,i){if(e>=0&&i<=a.fields.length&&e!==i){var t=a.fields.splice(e,1)[0];i>e&&--i,a.fields.splice(i,0,t)}}}]),i.directive("fgSchema",["fgSchemaLinkFn",function(e){return{require:["fgSchema"],controller:"fgSchemaController",link:e}}]).factory("fgSchemaLinkFn",function(){return function(e,i,t,a){var n=a[0];e.$watch(t.fgSchema,function(e){n.model(e)})}}),i.directive("fgEditCanvasField",["$timeout",function(e){return{templateUrl:"angular-form-gen/edit/canvas/field/field.ng.html",link:function(i){i.toggleProperties=function(e){e.$_displayProperties=e.$_displayProperties?e.$_invalid:!0},i.$watch("field.$_displayProperties",function(t){t?i.expanded=!0:e(function(){i.expanded=!1},550)})}}}]),i.controller("fgEditPaletteCategoriesController",["$scope","fgConfig",function(e,i){if(e.categories=i.fields.categories,e.setCategory=function(i,t){e.categoryName=i,e.category=t},!e.category)for(var t in e.categories){e.setCategory(t,e.categories[t]);break}}]),i.directive("fgEditPaletteCategories",function(){return{templateUrl:"angular-form-gen/edit/palette/categories/categories.ng.html",require:"^fgEditPalette",scope:{category:"=?"},controller:"fgEditPaletteCategoriesController"}}),i.directive("fgEditCanvasFieldProperties",["fgUtils",function(e){function i(e){for(var i=e.length;i--;){var t=e[i];"Debug"!==t.title&&(t.renderAlways=!0)}}return{templateUrl:"angular-form-gen/edit/canvas/field/properties/properties.ng.html",scope:{field:"=fgEditCanvasFieldProperties"},link:{pre:function(e){e.property={}},post:function(t){t.$watch("fieldPropertiesForm.$invalid",function(e){t.field.$_invalid=e}),t.renderInfo=e.getRenderInfo(t.field),t.$watch("property.tabs.items.length",function(e){e&&i(t.property.tabs.items)})}}}}]),i.controller("fgPropertyFieldOptionsController",["$scope",function(i){function t(e,t){e!==t&&(i.multiple?(i.field.value[e]=i.field.value[t],delete i.field.value[t]):t===i.field.value&&(i.field.value=e))}var a=1;i.$watchCollection("field.options",function(a){a&&e.forEach(a,function(e){e.$_valueWatchFn||(e.$_valueWatchFn=i.$watch(function(){return e.value},t))})}),this.toggleOption=function(e){"selectlist"!==i.field.type&&e===i.field.value&&(i.field.value=void 0)},this.addOption=function(){i.field.options||(i.field.options=[]);var e={value:"Option "+a++};i.field.options.push(e);var t=i.field.options.length;i.multiple||1!==t||(i.field.value=e.value)},this.removeOption=function(e){var t=i.field.options.splice(e,1);if(t&&t.length){var a=t[0];i.multiple?void 0!==i.field.value[a.value]&&delete i.field.value[a.value]:(a.value===i.field.value&&i.field.options.length&&(i.field.value=i.field.options[0].value),a.$_valueWatchFn())}}}]),i.directive("fgPropertyFieldOptions",["fgPropertyFieldOptionsLinkFn",function(e){return{scope:!0,controller:"fgPropertyFieldOptionsController as optionsCtrl",templateUrl:"angular-form-gen/edit/canvas/field/properties/options/options.ng.html",link:e}}]).factory("fgPropertyFieldOptionsLinkFn",function(){return function(e,i,t){e.multiple=!1,t.$observe("fgPropertyFieldOptions",function(i){"multiple"===i&&(e.multiple=!0)})}}),i.directive("fgPropertyFieldCommon",["fgPropertyFieldCommonLinkFn",function(e){return{restrict:"AE",templateUrl:"angular-form-gen/edit/canvas/field/properties/property-field/common.ng.html",link:e}}]).factory("fgPropertyFieldCommonLinkFn",function(){return function(i,t,a){i.fields={fieldname:!1,displayname:!1,placeholder:!1,tooltip:!1,focus:!1},i.$watch(a.fgPropertyFieldCommon,function(t){i.fields=e.extend(i.fields,t)})}}),i.directive("fgPropertyFieldValue",["fgPropertyFieldValueLinkFn",function(e){return{require:["^form"],templateUrl:"angular-form-gen/edit/canvas/field/properties/property-field/field-value.ng.html",transclude:!0,link:e}}]).factory("fgPropertyFieldValueLinkFn",["$parse",function(){return function(e,i,t,a){e.draw=!0;var n,l=a[0];e.$watch("field.$_redraw",function(t){if(t){var a=l.fieldValue;a&&(n=a.$viewValue),e.draw=!1,e.field.$_redraw=!1}else e.draw=!0,i=i}),e.$watch(function(){return l.fieldValue},function(e){e&&n&&(e.$setViewValue(n),e.$render(),n=void 0)})}}]).directive("fgFieldRedraw",function(){return{require:["ngModel"],link:function(e,i,t){var a=e.$eval(t.ngModel);e.$watch(t.ngModel,function(i){i!=a&&(e.field.$_redraw=!0,a=i)})}}}),i.directive("fgPropertyField",["fgPropertyFieldLinkFn",function(e){return{restrict:"AE",templateUrl:"angular-form-gen/edit/canvas/field/properties/property-field/property-field.ng.html",transclude:!0,scope:!0,link:e}}]).factory("fgPropertyFieldLinkFn",function(){return function(e,i,t){t.$observe("fgPropertyField",function(i){e.fieldName=i}),t.$observe("fgPropertyFieldLabel",function(i){i&&(e.fieldLabel=i)})}}),i.directive("fgParsePattern",function(){return{require:["ngModel"],link:function(e,i,t,a){function n(e){try{new RegExp(e)}catch(i){return l.$setValidity("pattern",!1),void 0}return l.$setValidity("pattern",!0),e}var l=a[0];l.$parsers.push(n)}}}),i.directive("fgPropertyFieldValidation",["fgPropertyFieldValidationLinkFn",function(e){return{restrict:"A",templateUrl:"angular-form-gen/edit/canvas/field/properties/validation/validation.ng.html",link:e}}]).factory("fgPropertyFieldValidationLinkFn",["fgConfig",function(i){var t=[],a=i.validation.patterns;return e.forEach(a,function(e,i){t.push({value:e,text:i})}),function(i,a,n){i.patternOptions=t,i.field.validation=i.field.validation||{},i.field.validation.messages=i.field.validation.messages||{},i.fields={required:!1,minlength:!1,maxlength:!1,pattern:!1},i.$watch(n.fgPropertyFieldValidation,function(t){i.fields=e.extend(i.fields,t)})}}]),i.directive("fgEditValidationMessage",["fgEditValidationMessageLinkFn",function(e){return{templateUrl:"angular-form-gen/edit/canvas/field/properties/validation/validation-message.ng.html",link:e,scope:!0}}]).factory("fgEditValidationMessageLinkFn",function(){var e="Enter a error message here that will be shown if this validation fails. If this field is empty a default message will be used.";return function(i,t,a){a.$observe("fgEditValidationMessage",function(e){i.validationType=e}),a.$observe("fgEditValidationTooltip",function(t){t=t||e,i.tooltip=t})}})}(angular);